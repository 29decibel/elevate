<mat-card *ngIf="viewedDay">
	<mat-card-content>

		<!--HEADER-->
		<div class="fitnessTrendGraphHeader"
			 fxLayout.lt-lg="column"
			 fxLayout="row" fxLayoutAlign="center start">

			<!--Fitness, Fatigue, Form values-->
			<!-- For smaller screen width (< 1279px)-->
			<div fxHide.lg
				 fxFill fxFlexOrder="2"
				 style="background-color: #71ff1c"
				 fxLayout="row" fxLayoutAlign="start center"
				 class="mat-headline" style="margin: 0;">

				<div fxFlex="160px" style="background-color: #71ff1c">
					Fitness {{viewedDay.printFitness()}}
				</div>
				<div fxFlex="160px" style="background-color: #ff4f51">
					Fatigue {{viewedDay.printFatigue()}}
				</div>
				<div fxFlex="160px" style="background-color: #ff4f51">
					Form {{viewedDay.printForm()}}
				</div>

			</div>

			<!--Fitness, Fatigue, Form values-->
			<!--WIDESCREEN-->
			<div fxFlex="160px"
				 fxHide.lt-lg
				 fxFlexAlign="stretch"
				 fxLayout="column" fxLayoutAlign="space-between start"
				 class="mat-headline"
				 style="margin: 0;"> <!--Remove mat-display-1 margin-->

				<!--Fitness-->
				<div fxFlex fxFill fxLayout="row" fxLayoutAlign="space-between center">
					<div flex style="background-color: #ff4f51">
						Fitness
					</div>
					<div flex style="background-color: #ff4f51">
						{{viewedDay.printFitness()}}
					</div>
				</div>

				<!--Fatigue-->
				<div fxFlex fxFill fxLayout="row" fxLayoutAlign="space-between center">
					<div flex style="background-color: #ff4f51">
						Fatigue
					</div>
					<div flex style="background-color: #ff4f51">
						{{viewedDay.printFatigue()}}
					</div>
				</div>

				<!--Form-->
				<div fxFlex fxFill fxLayout="row" fxLayoutAlign="space-between end">
					<div flex style="background-color: #ff4f51">
						Form
					</div>
					<div flex style="background-color: #ff4f51">
						{{viewedDay.printForm()}}
					</div>
				</div>
			</div>

			<span fxFlex="15px" fxHide.lt-lg></span> <!-- --------- -->

			<!--INPUTS & DETAILS-->
			<div fxFlex
				 fxFlexOrder="1"
				 fxFlexAlign="stretch"
				 fxLayout="column" fxLayoutAlign="space-between center"
				 style="background-color: yellow;">

				<!--INPUTS-->
				<div fxFlex
					 fxFill
					 fxLayout="row" fxLayoutAlign="space-between center">

					<!--PERIODS-->
					<div fxFlex
						 fxFill
						 fxFlexAlign="start"
						 fxLayout="row" fxLayoutAlign="start start"
						 style="background-color: #ff4f51;">

						<mat-input-container fxFlex="150px">
							<mat-select
								[(ngModel)]="lastPeriodViewed"
								(change)="onLastPeriodSelected()"
								placeholder="Last">
								<mat-option
									*ngFor="let lastPeriod of lastPeriods;"
									[value]="lastPeriod">
									{{lastPeriod.label}}
								</mat-option>
							</mat-select>
						</mat-input-container>

						<span fxFlex="2"></span> <!-- --------- -->

						<mat-form-field fxFlex="150px">
							<input matInput
								   [(ngModel)]="periodViewed.from"
								   [min]="dateMin"
								   [max]="periodViewed.to"
								   [matDatepicker]="datePickerFrom"
								   (dateChange)="onDateToDateChange()"
								   placeholder="From">
							<mat-datepicker-toggle matSuffix [for]="datePickerFrom"></mat-datepicker-toggle>
							<mat-datepicker #datePickerFrom></mat-datepicker>
						</mat-form-field>

						<span fxFlex="2"></span> <!-- --------- -->

						<mat-form-field fxFlex="150px">
							<input matInput
								   [(ngModel)]="periodViewed.to"
								   [min]="periodViewed.from"
								   [max]="dateMax"
								   [matDatepicker]="datePickerTo"
								   (dateChange)="onDateToDateChange()"
								   placeholder="To">
							<mat-datepicker-toggle matSuffix [for]="datePickerTo"></mat-datepicker-toggle>
							<mat-datepicker #datePickerTo></mat-datepicker>
						</mat-form-field>
					</div>

					<span fxFlex="5"></span>

					<!--TOGGLES-->
					<div fxFlex="300px"
						 fxFlexAlign="start"
						 fxLayout="row" fxLayoutAlign="end center"
						 style="background-color: orange;">

						<mat-slide-toggle fxFlex
										  [(ngModel)]="isTrainingZonesEnabled"
										  (change)="onTrainingZonesToggle()"
										  matTooltip="Display Form Zones on graph">
							<mat-icon>power_input</mat-icon>
						</mat-slide-toggle>
						<mat-slide-toggle fxFlex
										  [(ngModel)]="isPowerMeterEnabled"
										  (change)="onPowerMeterToggle()"
										  matTooltip="Use cycling power meter when available">
							<mat-icon>flash_on</mat-icon>
						</mat-slide-toggle>

						<mat-slide-toggle fxFlex
										  [(ngModel)]="isSwimEnabled"
										  (change)="onSwimToggle()"
										  matTooltip="Enable Swimming Stress Score based on your Swim FTP only (no heart rate sensor required)">
							<mat-icon>pool</mat-icon>
						</mat-slide-toggle>

						<button mat-icon-button>
							<mat-icon>info</mat-icon>
						</button>

					</div>

				</div>

				<!--DETAILS-->
				<div fxFlex="60"
					 fxFill
					 [ngClass.md]="['mat-subheading-2']"
					 [ngClass.lg]="['mat-title']"
					 fxLayout="column" fxLayoutAlign="space-between start"
					 style="margin: 0; background-color: cyan;"> <!--Remove mat-title margin-->

					<div fxFlex
						 fxFill
						 fxLayout="row">
						<span fxFlexAlign="start">
							{{viewedDay.printDate()}}
						</span>
					</div>

					<div fxFlex
						 fxFill
						 fxLayout="row">
						<span fxFlexAlign="center">
							{{viewedDay.printActivities()}}
						</span>
					</div>

					<div fxFlex
						 fxFill
						 fxLayout="row">

						<span fxFlexAlign="end">
							<span *ngIf="!viewedDay.finalStressScore">No stress score</span>
							<span *ngIf="viewedDay.finalStressScore">
								Stress Score:
								<!-- Trimp -->
								<span *ngIf="viewedDay.trimpScore">
									{{viewedDay.printTrimpScore()}} <sup><i>Trimp</i></sup>
								</span>

								<!--PSS-->
								<span *ngIf="viewedDay.powerStressScore">
									<span *ngIf="viewedDay.trimpScore">
										&nbsp;/&nbsp;
									</span>
									{{viewedDay.printPowerStressScore()}} <sup><i>PowerSS</i></sup>
								</span>

								<!--SwimSS-->
								<span *ngIf="viewedDay.swimStressScore">
									<span *ngIf="viewedDay.trimpScore">
										&nbsp;/&nbsp;
									</span>
									{{viewedDay.printSwimStressScore()}} <sup><i>SwimSS</i></sup>
								</span>
								<!--Final-->
								<span>
									&nbsp;&nbsp;âž”&nbsp;&nbsp;<strong>{{viewedDay.printFinalStressScore()}}</strong>
								</span>
							</span>
						</span>
					</div>
				</div>
			</div>
		</div>
		<div
			[ngClass]='{"openActivities": viewedDay.activitiesName.length}'
			id="fitnessTrendGraph">
		</div>
	</mat-card-content>
</mat-card>
