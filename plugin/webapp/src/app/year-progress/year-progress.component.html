<mat-card>
	<mat-card-content>

		<div fxLayout="row" fxLayoutAlign="start start" id="inputsSelection">
			<div fxFlex="60">
				<mat-form-field fxFlex="150px">
					<mat-select placeholder="Progress Type"
								(change)="onSelectedProgressTypeChange()"
								[(ngModel)]="selectedProgressType">
						<mat-option *ngFor="let progressType of progressTypes" [value]="progressType">
							{{progressType.label}}
						</mat-option>
					</mat-select>
				</mat-form-field>

				<span fxFlex="2"></span>

				<mat-form-field fxFlex>
					<mat-select placeholder="Activity Types"
								(change)="onSelectedActivityTypesChange()"
								[(ngModel)]="selectedActivityTypes"
								multiple>
						<mat-option *ngFor="let type of availableActivityTypes"
									[value]="type"
									[disabled]="(selectedActivityTypes.length === 1 && type === selectedActivityTypes[0])">
							{{type}}
						</mat-option>
					</mat-select>
				</mat-form-field>

				<span fxFlex="2"></span>

				<mat-slide-toggle
					fxFlexAlign="center"
					[(ngModel)]="includeCommuteRide"
					(change)="onIncludeCommuteRideToggle()">
					Commute rides
				</mat-slide-toggle>

			</div>

			<span fxFlex="3"></span>

			<div fxFlex>
				<mat-form-field fxFlex>
					<mat-select placeholder="Years"
								[(ngModel)]="selectedYears"
								(change)="onSelectedYearsChange()"
								multiple>
						<mat-option *ngFor="let year of availableYears"
									[value]="year"
									[disabled]="(selectedYears.length === 1 && year === selectedYears[0])">
							{{year}}
						</mat-option>
					</mat-select>
				</mat-form-field>

				<span fxFlex="5"></span>

				<button fxFlexAlign="center" mat-icon-button (click)="onHelperClick()">
					<mat-icon>help</mat-icon>
				</button>
			</div>
		</div>

		<!--Graph Card + Table Card -->
		<div fxLayout="row" fxLayoutAlign="start start">

			<!--Graph -->
			<div fxFlex="60">
				<mat-card-title class="mat-title">
					{{selectedProgressType.label}} progression {{(selectedProgressType.unit) ? "in " +
					selectedProgressType.unit : ""}}
				</mat-card-title>
				<mat-divider></mat-divider>
				<app-year-progress-graph
					[selectedYears]="selectedYears"
					[selectedProgressType]="selectedProgressType"
					[yearProgressModels]="yearProgressModels"
					[yearProgressStyleModel]="yearProgressStyleModel">
				</app-year-progress-graph>
			</div>


			<span fxFlex="3"></span>

			<!-- Table/Legend -->
			<div fxFlex>
				<mat-card-title class="mat-title">
					{{momentWatched.format("MMMM Do")}}
				</mat-card-title>
				<mat-divider></mat-divider>
				<app-year-progress-table
					[selectedYears]="selectedYears"
					[selectedProgressType]="selectedProgressType"
					[yearProgressModels]="yearProgressModels"
					[yearProgressStyleModel]="yearProgressStyleModel">
				</app-year-progress-table>
			</div>
		</div>

	</mat-card-content>
</mat-card>
